<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" type="text/css" href="./css/main.css">
	<title>Main</title>
</head>

<body>
	<div class="header">
		<h2white>
			FBI Crimes by Offense and Year: Graphs
		</h2white>
		<hr>
		<pWhite>
			Project by Dharmarakshit Harley, Samrat Korupolu and Michael Zeolla
		</pWhite>
		<div class="header-right">
			<a class="active" asp-area="" asp-controller="Home" asp-action="Charts">Charts</a>
			<a asp-area="" asp-controller="Home" asp-action="mainpage">Main Page</a>
			<a asp-area="" asp-controller="Home" asp-action="Index">Home</a>
			<a asp-area="" asp-controller="Home" asp-action="aboutUs">About Us</a>
		</div>
	</div>
	<div class="container">

		<canvas id="canvas" width="400" height="400"></canvas>
		@section Scripts{
			<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.js" integrity="sha256-qSIshlknROr4J8GMHRlW3fGKrPki733tLq+qeMCR05Q=" crossorigin="anonymous"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.min.js" integrity="sha256-xKeoJ50pzbUGkpQxDYHD7o7hxe0LaOGeguUidbq6vis=" crossorigin="anonymous"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.css" integrity="sha256-IvM9nJf/b5l2RoebiFno92E5ONttVyaEEsdemDC6iQA=" crossorigin="anonymous" />
			<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.js" integrity="sha256-arMsf+3JJK2LoTGqxfnuJPFTU4hAK57MtIPdFpiHXOU=" crossorigin="anonymous"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.css" integrity="sha256-aa0xaJgmK/X74WM224KMQeNQC2xYKwlAt08oZqjeF0E=" crossorigin="anonymous" />
			<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" integrity="sha256-Uv9BNBucvCPipKQ2NS9wYpJmi8DTOEfTA/nH2aoJALw=" crossorigin="anonymous"></script>
			<script>
				function GetJSON_Simple() {
					var resp = [];
					$.ajax({
						type: "GET",
						url: '/Results/Charts',
						async: false,
						contentType: "application/json",
						success: function (data) {
							resp.push(data);
						},
						error: function (req, status, error) {
							// do something with error
							alert("error");
						}
					});
					return resp;
				}
				var simpleData = GetJSON_Simple();
				var ctx = document.getElementById("canvas")
				var lineChartData = {
					labels: simpleData[0].myOffenses,
					datasets: [{
						label: 'Sucess',
						borderColor: "MediumSeaGreen",
						backgroundColor: "MediumSeaGreen",
						fill: false,
						data: simpleData[0].myCrimes,
						yAxisID: 'y-axis-1',
					}]
				};

				window.myLine = Chart.Line(ctx, {
					data: lineChartData,
					options: {
						responsive: true,
						hoverMode: 'index',
						stacked: false,
						title: {
							display: true,
							text: 'Processes'
						},
						scales: {
							yAxes: [{
								type: 'linear',
								display: true,
								position: 'left',
								id: 'y-axis-1',
							}],
						}
					}
				});

			</script>
		}

		@*@{
				Layout = null;
			}
			<!DOCTYPE html>
			<html>
			<head>
				<meta name="viewport" content="width=device-width" />
				<title>Charts</title>
				<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.2/Chart.bundle.min.js"></script>
				<script>

					var barChartData =
						{
							labels: @Html.Raw(ViewBag.ObjectName), //the names displayed on the x-axis, see images below
							datasets: [{
								label: 'ProductWise Sales Count',
								backgroundColor: [
									"#f990a7",
									"#aad2ed",
									"#9966FF",
									"#99e5e5",
									"#f7bd83",
								],
								borderWidth: 2,
								data: @ViewBag.Data  //what you returned back from controller. values displayed on the y-axis, see images below
							}]
						};

						window.onload = function () {
							var ctx1 = document.getElementById("barcanvas").getContext("2d");
							window.myBar = new Chart(ctx1,
								{
									type: 'bar',
									data: barChartData,
									options:
										{
											title:
											{
												display: true,
												text: "ProductWise Sales Count"
											},
											responsive: true,
											maintainAspectRatio: true
										}
								});
						}
				</script>
			</head>
			<body>
				<div style="text-align: center">
					<canvas id="barcanvas"></canvas>
				</div>
				<div style="text-align: center">
					Disclaimer:- This data is for demo it is
					not real data it wont relate to any company
				</div>
			</body>
			</html>*@

	</div>
	<div class="footer">
		<pWhite>Copyright &#169 May 2021 | ISM 6225 | USF</pWhite>
	</div>

</body>
</html>